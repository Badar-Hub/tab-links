(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40a0b5e8"],{"2b60":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("1da1"),c=n("d4ec"),a=n("bee2"),u=(n("99af"),n("96cf"),n("bb0b")),o=function(){function e(){Object(c["a"])(this,e)}return Object(a["a"])(e,null,[{key:"getAllInvoices",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get("".concat(e.baseUrl,"/all-invoices"));case 3:return n=t.sent,t.abrupt("return",n.results.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"getInvoice",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get("".concat(e.baseUrl,"/invoices/").concat(n));case 3:return r=t.sent,t.abrupt("return",r.results.data.filteredInvoice);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"getInvoices",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get("".concat(e.baseUrl,"/invoices"));case 3:return n=t.sent,t.abrupt("return",n.results.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"newPaymentReceving",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].post("".concat(e.baseUrl),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"newInvoice",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].post("".concat(e.baseUrl,"/create-invoice"),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"updateBrand",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].put("".concat(e.baseUrl,"/").concat(n._id),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()}]),e}();o.baseUrl="accounts"},"46f1":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("1da1"),c=n("d4ec"),a=n("bee2"),u=(n("99af"),n("96cf"),n("bb0b")),o=function(){function e(){Object(c["a"])(this,e)}return Object(a["a"])(e,null,[{key:"getProducts",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get(e.baseUrl);case 3:return n=t.sent,t.abrupt("return",n.results.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"newProducts",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].post("".concat(e.baseUrl),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"updateProduct",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].put("".concat(e.baseUrl,"/").concat(n._id),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()}]),e}();o.baseUrl="products"},"79ec":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c=Object(r["j"])("div",{class:"row q-px-md"},[Object(r["j"])("div",{class:"col-xs-12 col-sm-6"},[Object(r["j"])("h6",{class:"q-my-sm"},"New Invoice")])],-1),a={class:"col col-xs-12 col-sm-6 q-my-sm q-px-md"},u={class:"col col-xs-12 col-sm-6 q-my-sm q-px-md"},o={class:"col col-xs-12 col-sm-6 q-my-sm q-px-md"},l={class:"row items-center justify-end"},i={class:"col col-xs-12 col-sm-6 q-my-sm q-px-md"},s={class:"col col-xs-12 q-my-sm q-px-md"},d={class:"col-xs-12 q-px-md"},p={key:0,class:"col-xs-12 text-right q-my-sm q-px-xl"},v={class:"q-my-sm"},m={class:"col-xs-12 text-right q-my-sm q-px-xl"},b={class:"col-xs-12 q-px-md text-right"};function f(e,t,n,f,j,O){var h=Object(r["M"])("q-select"),w=Object(r["M"])("q-input"),g=Object(r["M"])("q-btn"),x=Object(r["M"])("q-date"),y=Object(r["M"])("q-popup-proxy"),q=Object(r["M"])("q-icon"),V=Object(r["M"])("InvoiceProduct"),k=Object(r["M"])("q-card-section"),R=Object(r["M"])("q-card"),I=Object(r["M"])("q-form"),U=Object(r["N"])("close-popup");return Object(r["G"])(),Object(r["i"])("div",null,[c,Object(r["m"])(I,{class:"row full-width",onSubmit:e.onSubmit},{default:Object(r["V"])((function(){return[Object(r["j"])("div",a,[Object(r["m"])(h,{modelValue:e.newInvoice.customerName,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.newInvoice.customerName=t}),disable:!e.isEditable,label:"Select Customer",options:e.customerList,filled:""},null,8,["modelValue","disable","options"])]),Object(r["j"])("div",u,[Object(r["m"])(w,{disable:"",modelValue:e.newInvoice.invoiceNo,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.newInvoice.invoiceNo=t}),label:"Invoice Number",filled:""},null,8,["modelValue"])]),Object(r["j"])("div",o,[Object(r["m"])(w,{disable:!e.isEditable,filled:"",modelValue:e.newInvoice.date,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.newInvoice.date=t}),mask:"date",rules:["date"]},{append:Object(r["V"])((function(){return[Object(r["m"])(q,{name:"event",class:"cursor-pointer"},{default:Object(r["V"])((function(){return[Object(r["m"])(y,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:Object(r["V"])((function(){return[Object(r["m"])(x,{modelValue:e.newInvoice.date,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.newInvoice.date=t})},{default:Object(r["V"])((function(){return[Object(r["j"])("div",l,[Object(r["W"])(Object(r["m"])(g,{label:"Close",color:"primary",flat:""},null,512),[[U]])])]})),_:1},8,["modelValue"])]})),_:1},512)]})),_:1})]})),_:1},8,["disable","modelValue"])]),Object(r["j"])("div",i,[Object(r["m"])(w,{disable:!e.isEditable,modelValue:e.newInvoice.reference,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.newInvoice.reference=t}),label:"Reference",filled:""},null,8,["disable","modelValue"])]),Object(r["j"])("div",s,[Object(r["m"])(R,null,{default:Object(r["V"])((function(){return[Object(r["m"])(k,null,{default:Object(r["V"])((function(){return[(Object(r["G"])(!0),Object(r["i"])(r["a"],null,Object(r["K"])(e.newInvoice.products,(function(t,n){return Object(r["G"])(),Object(r["i"])("div",{class:"q-my-sm",key:n},[Object(r["m"])(V,{onRemoveProduct:function(t){return e.removeProduct(n)},products:e.productsList,invoice:t},null,8,["onRemoveProduct","products","invoice"])])})),128))]})),_:1})]})),_:1})]),Object(r["j"])("div",d,[Object(r["m"])(g,{disable:e.diableNewProduct,label:"Add Another Product",onClick:e.addAnotherProduct},null,8,["disable","onClick"])]),e.isTotalValue?(Object(r["G"])(),Object(r["i"])("div",p,[Object(r["j"])("h6",v,"Rs: "+Object(r["P"])(e.newInvoice.totalValue),1)])):Object(r["h"])("",!0),Object(r["j"])("div",m,[Object(r["m"])(g,{onClick:e.calculateTotal,label:"Calculate Total Price",color:"primary"},null,8,["onClick"])]),Object(r["j"])("div",b,[Object(r["m"])(g,{label:"Create Invoice",color:"primary",type:"submit"})])]})),_:1},8,["onSubmit"])])}var j=n("1da1"),O=(n("96cf"),n("159b"),n("4de4"),n("b0c0"),n("7db0"),n("d81d"),n("9f1d")),h=n("46f1"),w={class:"row full-width"},g={class:"col-xs-12 col-sm-4 q-my-sm q-px-md"},x={class:"col-xs-12 col-sm-2 q-my-sm q-px-md"},y={class:"col-xs-12 col-sm-2 q-my-sm q-px-md q-my-auto"},q=Object(r["l"])(" Discount "),V={class:"q-my-auto"},k={class:"col-xs-12 col-sm-2 q-my-sm q-px-md"},R={class:"col-xs-12 col-sm-2 q-my-auto q-px-md"};function I(e,t,n,c,a,u){var o=Object(r["M"])("q-select"),l=Object(r["M"])("q-input"),i=Object(r["M"])("q-btn");return Object(r["G"])(),Object(r["i"])("div",null,[Object(r["j"])("div",w,[Object(r["j"])("div",g,[Object(r["m"])(o,{label:"Select Product",modelValue:e.inputValue.name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.inputValue.name=t}),options:e.products,"onInput:invoice":t[1]||(t[1]=function(t){return e.$emit("input",e.invoice)})},null,8,["modelValue","options"])]),Object(r["j"])("div",x,[Object(r["m"])(l,{type:"number",label:"Quantity",modelValue:e.inputValue.quantity,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.inputValue.quantity=t}),modelModifiers:{number:!0},onInput:t[3]||(t[3]=function(t){return e.$emit("input",e.invoice)})},null,8,["modelValue"])]),Object(r["j"])("div",y,[q,Object(r["j"])("p",V,Object(r["P"])(e.productData.discount?e.productData.discount*e.inputValue.quantity:e.productData.price*e.inputValue.quantity),1)]),Object(r["j"])("div",k,[Object(r["m"])(l,{disable:"",type:"number",label:"Discount",modelValue:e.productData.discount,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.productData.discount=t}),modelModifiers:{number:!0}},null,8,["modelValue"])]),Object(r["j"])("div",R,[Object(r["m"])(i,{icon:"close",unelevated:"",flat:"",rounded:"",color:"red",onClick:t[5]||(t[5]=function(t){return e.$emit("remove-product")})})])])])}var U=Object(r["n"])({props:{invoice:{type:Object},products:{type:Array}},emits:["remove-product","update:modelValue"],setup:function(e,t){var n=Object(r["J"])({sku:"",name:"",brand:"",category:"",price:0,discount:0,costPrice:0,quantity:0}),c=Object(r["e"])({get:function(){return e.invoice},set:function(e){return t.emit("update:modelValue",e)}});return{productData:n,inputValue:c}}}),P=n("ddd8"),C=n("27f9"),N=n("9c40"),M=n("93dc"),Q=n.n(M);U.render=I;var _=U;Q()(U,"components",{QSelect:P["a"],QInput:C["a"],QBtn:N["a"]});var J=n("2b60"),D=Object(r["n"])({components:{InvoiceProduct:_},setup:function(){var e=Object(r["J"])({customerName:"",invoiceNo:0,date:"2021-08-28",reference:"",products:[{name:"",quantity:1}],totalValue:0}),t=Object(r["J"])(0),n=Object(r["J"])([]),c=Object(r["J"])([]),a=Object(r["J"])([]),u=Object(r["J"])([]),o=Object(r["J"])(!1),l=Object(r["J"])(!0),i=Object(r["J"])(!1);Object(r["U"])((function(){return e.value.products.length}),(function(){e.value.products.forEach((function(e){n.value=n.value.filter((function(t){return t!=e.name}))}))})),Object(r["U"])((function(){return n.value}),(function(){i.value=!(n.value.length-1),console.log(n.value,n.value.length)}));var s=function(){o.value=!0,e.value.totalValue=0,u.value=[],e.value.products.forEach((function(e){var t=c.value.find((function(t){return t.name===e.name}));t&&t.discount&&u.value.push(t.discount?t.discount*e.quantity:t.price*e.quantity)})),e.value.totalValue=u.value.reduce((function(e,t){return e+t})),console.log(e.value.totalValue)},d=function(){e.value.products.push({name:"",quantity:1})},p=function(t){e.value.products=e.value.products.filter((function(e,n){return n!==t}))},v=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J["a"].getInvoices();case 3:n=t.sent,e.value.invoiceNo=n.length,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),m=function(){l.value=!1,e.value._id="",e.value.customerName="",e.value.date="28-08-2021",e.value.reference="",e.value.products=[],e.value.totalValue=0},b=function(t){l.value=!1,e.value._id=t._id,e.value.customerName=t.customerName,e.value.invoiceNo=t.invoiceNo,e.value.date=t.date,e.value.reference=t.reference,e.value.products=t.products,e.value.totalValue=t.totalValue,console.log(e.value)},f=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,v(),t.next=4,J["a"].newInvoice(e.value);case 4:m(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(r["D"])(Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,v(),e.next=4,h["a"].getProducts();case 4:return c.value=e.sent,n.value=c.value.map((function(e){return e.name})),e.next=8,O["a"].getCustomers();case 8:t=e.sent,a.value=t.map((function(e){return e.name})),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))),{newInvoice:e,productsList:n,addAnotherProduct:d,customerList:a,removeProduct:p,totalValue:t,products:c,calculateTotal:s,isTotalValue:o,onSubmit:f,setToEdit:b,isEditable:l,diableNewProduct:i}}}),S=n("0378"),E=n("0016"),A=n("7cbe"),T=n("52ee"),G=n("f09f"),L=n("a370"),B=n("7f67");D.render=f;t["default"]=D;Q()(D,"components",{QForm:S["a"],QSelect:P["a"],QInput:C["a"],QIcon:E["a"],QPopupProxy:A["a"],QDate:T["a"],QBtn:N["a"],QCard:G["a"],QCardSection:L["a"]}),Q()(D,"directives",{ClosePopup:B["a"]})},"9f1d":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("1da1"),c=n("d4ec"),a=n("bee2"),u=(n("99af"),n("96cf"),n("bb0b")),o=function(){function e(){Object(c["a"])(this,e)}return Object(a["a"])(e,null,[{key:"getCustomers",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get(e.baseUrl);case 3:return n=t.sent,t.abrupt("return",n.results.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"getCustomer",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get("".concat(e.baseUrl,"/").concat(n));case 3:return r=t.sent,t.abrupt("return",r.results.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"newCustomer",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].post("".concat(e.baseUrl),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"updateCustomer",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].put("".concat(e.baseUrl,"/").concat(n._id),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()}]),e}();o.baseUrl="customers"}}]);
//# sourceMappingURL=chunk-40a0b5e8.f2206c30.js.map