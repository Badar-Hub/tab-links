(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03008b5c"],{"2b60":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("1da1"),c=n("d4ec"),a=n("bee2"),u=(n("99af"),n("96cf"),n("bb0b")),o=function(){function e(){Object(c["a"])(this,e)}return Object(a["a"])(e,null,[{key:"getAllInvoices",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get("".concat(e.baseUrl,"/all-invoices"));case 3:return n=t.sent,t.abrupt("return",n.results.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"getInvoice",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get("".concat(e.baseUrl,"/invoices/").concat(n));case 3:return r=t.sent,t.abrupt("return",r.results.data.filteredInvoice);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"getInvoices",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get("".concat(e.baseUrl,"/invoices"));case 3:return n=t.sent,t.abrupt("return",n.results.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"newPaymentReceving",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].post("".concat(e.baseUrl),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"newInvoice",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].post("".concat(e.baseUrl,"/create-invoice"),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"updateBrand",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].put("".concat(e.baseUrl,"/").concat(n._id),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()}]),e}();o.baseUrl="accounts"},"46f1":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("1da1"),c=n("d4ec"),a=n("bee2"),u=(n("99af"),n("96cf"),n("bb0b")),o=function(){function e(){Object(c["a"])(this,e)}return Object(a["a"])(e,null,[{key:"getProducts",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get(e.baseUrl);case 3:return n=t.sent,t.abrupt("return",n.results.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"newProducts",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].post("".concat(e.baseUrl),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"updateProduct",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].put("".concat(e.baseUrl,"/").concat(n._id),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()}]),e}();o.baseUrl="products"},"79ec":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c=Object(r["j"])("div",{class:"row q-px-md"},[Object(r["j"])("div",{class:"col-xs-12 col-sm-6"},[Object(r["j"])("h6",{class:"q-my-sm"},"New Invoice")])],-1),a={class:"col col-xs-12 col-sm-6 q-my-sm q-px-md"},u={class:"col col-xs-12 col-sm-6 q-my-sm q-px-md"},o={class:"col col-xs-12 col-sm-6 q-my-sm q-px-md"},l={class:"row items-center justify-end"},s={class:"col col-xs-12 col-sm-6 q-my-sm q-px-md"},i={class:"col col-xs-12 q-my-sm q-px-md"},p={class:"col-xs-12 q-px-md"},d={key:0,class:"col-xs-12 text-right q-my-sm q-px-xl"},v={class:"q-my-sm"},b={class:"col-xs-12 text-right q-my-sm q-px-xl"},m={class:"col-xs-12 q-px-md text-right"};function f(e,t,n,f,j,O){var h=Object(r["L"])("q-select"),w=Object(r["L"])("q-input"),x=Object(r["L"])("q-btn"),g=Object(r["L"])("q-date"),y=Object(r["L"])("q-popup-proxy"),q=Object(r["L"])("q-icon"),k=Object(r["L"])("InvoiceProduct"),V=Object(r["L"])("q-form"),I=Object(r["M"])("close-popup");return Object(r["F"])(),Object(r["i"])("div",null,[c,Object(r["l"])(V,{class:"row full-width",onSubmit:e.onSubmit},{default:Object(r["T"])((function(){return[Object(r["j"])("div",a,[Object(r["l"])(h,{modelValue:e.newInvoice.customerName,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.newInvoice.customerName=t}),label:"Select Customer",options:e.customerList,filled:""},null,8,["modelValue","options"])]),Object(r["j"])("div",u,[Object(r["l"])(w,{disable:"",modelValue:e.newInvoice.invoiceNo,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.newInvoice.invoiceNo=t}),label:"Invoice Number",filled:""},null,8,["modelValue"])]),Object(r["j"])("div",o,[Object(r["l"])(w,{filled:"",modelValue:e.newInvoice.date,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.newInvoice.date=t}),mask:"date",rules:["date"]},{append:Object(r["T"])((function(){return[Object(r["l"])(q,{name:"event",class:"cursor-pointer"},{default:Object(r["T"])((function(){return[Object(r["l"])(y,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:Object(r["T"])((function(){return[Object(r["l"])(g,{modelValue:e.newInvoice.date,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.newInvoice.date=t})},{default:Object(r["T"])((function(){return[Object(r["j"])("div",l,[Object(r["U"])(Object(r["l"])(x,{label:"Close",color:"primary",flat:""},null,512),[[I]])])]})),_:1},8,["modelValue"])]})),_:1},512)]})),_:1})]})),_:1},8,["modelValue"])]),Object(r["j"])("div",s,[Object(r["l"])(w,{modelValue:e.newInvoice.reference,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.newInvoice.reference=t}),label:"Reference",filled:""},null,8,["modelValue"])]),Object(r["j"])("div",i,[(Object(r["F"])(!0),Object(r["i"])(r["a"],null,Object(r["J"])(e.newInvoice.products,(function(e,t){return Object(r["F"])(),Object(r["i"])("div",{class:"q-my-sm",key:t},[Object(r["l"])(k,{invoice:e},null,8,["invoice"])])})),128))]),Object(r["j"])("div",p,[Object(r["l"])(x,{label:"Add Another Product",onClick:e.addAnotherProduct},null,8,["onClick"])]),e.isTotalValue?(Object(r["F"])(),Object(r["i"])("div",d,[Object(r["j"])("h6",v,"Rs: "+Object(r["O"])(e.newInvoice.totalValue),1)])):Object(r["h"])("",!0),Object(r["j"])("div",b,[Object(r["l"])(x,{onClick:e.calculateTotal,label:"Calculate Total Price",color:"primary"},null,8,["onClick"])]),Object(r["j"])("div",m,[Object(r["l"])(x,{label:"Create Invoice",color:"primary",type:"submit"})])]})),_:1},8,["onSubmit"])])}var j=n("1da1"),O=(n("96cf"),n("159b"),n("7db0"),n("b0c0"),n("4de4"),n("d81d"),n("9f1d")),h=n("46f1"),w={class:"row full-width"},x={class:"col-xs-12 col-sm-6"},g={class:"text-body2"},y={class:"col-xs-12 col-sm-6 text-right"},q={class:"row full-width"},k={class:"col-xs-12 col-sm-3 q-my-sm q-px-md"},V={class:"col-xs-12 col-sm-3 q-my-sm q-px-md"},I={class:"col-xs-12 col-sm-3 q-my-sm q-px-md q-my-auto"},R=Object(r["k"])(" Discount "),U={class:"q-my-auto"},P={class:"col-xs-12 col-sm-3 q-my-sm q-px-md"};function C(e,t,n,c,a,u){var o=Object(r["L"])("q-select"),l=Object(r["L"])("q-input"),s=Object(r["L"])("q-card-section"),i=Object(r["L"])("q-card");return Object(r["F"])(),Object(r["i"])("div",null,[Object(r["l"])(i,{class:"q-my-sm"},{default:Object(r["T"])((function(){return[Object(r["l"])(s,null,{default:Object(r["T"])((function(){return[Object(r["j"])("div",w,[Object(r["j"])("div",x,[Object(r["j"])("p",g,Object(r["O"])(e.inputValue.name?"Selected Product: ".concat(e.inputValue.name):"Select Product"),1)]),Object(r["j"])("div",y,[Object(r["j"])("p",{class:"text-body2 cursor-pointer",onClick:t[0]||(t[0]=function(t){return e.removeProduct(e.index)})}," X ")])]),Object(r["j"])("div",q,[Object(r["j"])("div",k,[Object(r["l"])(o,{label:"Select Product",modelValue:e.inputValue.name,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.inputValue.name=t}),options:e.productsList,"onInput:invoice":t[2]||(t[2]=function(t){return e.$emit("input",e.invoice)})},null,8,["modelValue","options"])]),Object(r["j"])("div",V,[Object(r["l"])(l,{type:"number",label:"Quantity",modelValue:e.inputValue.quantity,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.inputValue.quantity=t}),modelModifiers:{number:!0},onInput:t[4]||(t[4]=function(t){return e.$emit("input",e.invoice)})},null,8,["modelValue"])]),Object(r["j"])("div",I,[R,Object(r["j"])("p",U,Object(r["O"])(e.productData.discount?e.productData.discount*e.inputValue.quantity:e.productData.price*e.inputValue.quantity),1)]),Object(r["j"])("div",P,[Object(r["l"])(l,{disable:"",type:"number",label:"Discount",modelValue:e.productData.discount,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.productData.discount=t}),modelModifiers:{number:!0}},null,8,["modelValue"])])])]})),_:1})]})),_:1})])}var L=Object(r["m"])({props:{invoice:{type:Object}},setup:function(e,t){var n=Object(r["I"])([]),c=Object(r["I"])([]),a=Object(r["I"])({sku:"",name:"",brand:"",category:"",price:0,discount:0,costPrice:0,quantity:0}),u=Object(r["e"])({get:function(){return e.invoice},set:function(e){return t.emit("update:modelValue",e)}});return Object(r["S"])((function(){return u.value.name}),(function(){return a.value=n.value.find((function(e){return e.name===u.value.name}))})),Object(r["C"])(Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h["a"].getProducts();case 3:n.value=e.sent,c.value=n.value.map((function(e){return e.name})),console.log(c.value),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))),{productData:a,productsList:c,inputValue:u}}}),Q=n("f09f"),S=n("a370"),T=n("ddd8"),_=n("27f9"),D=n("93dc"),N=n.n(D);L.render=C;var F=L;N()(L,"components",{QCard:Q["a"],QCardSection:S["a"],QSelect:T["a"],QInput:_["a"]});var A=n("2b60"),J=Object(r["m"])({components:{InvoiceProduct:F},setup:function(){var e=Object(r["I"])({customerName:"",invoiceNo:0,date:"2021-08-28",reference:"",products:[{name:"",quantity:1}],totalValue:0}),t=Object(r["I"])(0),n=Object(r["I"])([]),c=Object(r["I"])([]),a=Object(r["I"])([]),u=Object(r["I"])([]),o=Object(r["I"])(!1),l=function(){o.value=!0,e.value.totalValue=0,u.value=[],e.value.products.forEach((function(e){var t=c.value.find((function(t){return t.name===e.name}));t&&t.discount&&u.value.push(t.discount?t.discount*e.quantity:t.price*e.quantity)})),e.value.totalValue=u.value.reduce((function(e,t){return e+t})),console.log(e.value.totalValue)},s=function(){e.value.products.push({name:"",quantity:1})},i=function(t){e.value.products=e.value.products.filter((function(e,n){return n!==t}))},p=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A["a"].getInvoices();case 3:n=t.sent,e.value.invoiceNo=n.length,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),d=function(){e.value._id="",e.value.customerName="",e.value.date="28-08-2021",e.value.reference="",e.value.products=[],e.value.totalValue=0},v=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,p(),t.next=4,A["a"].newInvoice(e.value);case 4:d(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(r["C"])(Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,p(),e.next=4,h["a"].getProducts();case 4:return c.value=e.sent,n.value=c.value.map((function(e){return e.name})),e.next=8,O["a"].getCustomers();case 8:t=e.sent,a.value=t.map((function(e){return e.name})),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))),{newInvoice:e,productsList:n,addAnotherProduct:s,customerList:a,removeProduct:i,totalValue:t,products:c,calculateTotal:l,isTotalValue:o,onSubmit:v}}}),M=n("0378"),B=n("0016"),$=n("7cbe"),E=n("52ee"),X=n("9c40"),z=n("7f67");J.render=f;t["default"]=J;N()(J,"components",{QForm:M["a"],QSelect:T["a"],QInput:_["a"],QIcon:B["a"],QPopupProxy:$["a"],QDate:E["a"],QBtn:X["a"]}),N()(J,"directives",{ClosePopup:z["a"]})},"9f1d":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("1da1"),c=n("d4ec"),a=n("bee2"),u=(n("99af"),n("96cf"),n("bb0b")),o=function(){function e(){Object(c["a"])(this,e)}return Object(a["a"])(e,null,[{key:"getCustomers",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get(e.baseUrl);case 3:return n=t.sent,t.abrupt("return",n.results.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"getCustomer",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get("".concat(e.baseUrl,"/").concat(n));case 3:return r=t.sent,t.abrupt("return",r.results.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"newCustomer",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].post("".concat(e.baseUrl),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"updateCustomer",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].put("".concat(e.baseUrl,"/").concat(n._id),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()}]),e}();o.baseUrl="customers"}}]);
//# sourceMappingURL=chunk-03008b5c.77dce8f6.js.map