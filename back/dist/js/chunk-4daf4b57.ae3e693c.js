(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4daf4b57"],{"0378":function(e,t,n){"use strict";var r=n("53ca"),a=(n("d3b7"),n("3ca3"),n("ddb0"),n("4de4"),n("7db0"),n("a434"),n("7a23")),c=n("d882"),u=n("f6ba"),o=n("cdf5"),l=n("e22d");t["a"]=Object(a["n"])({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup:function(e,t){var n=t.slots,s=t.emit,i=Object(a["o"])(),d=Object(a["J"])(null),f=0,p=[];function b(t){var n=[],a="boolean"===typeof t?t:!0!==e.noErrorFocus;f++;for(var c=function(e,t){s("validation-"+(!0===e?"success":"error"),t)},u=function(t){var r=p[t],u=r.validate();if("function"===typeof u.then)n.push(u.then((function(e){return{valid:e,comp:r}}),(function(e){return{valid:!1,comp:r,error:e}})));else if(!0!==u){if(!1===e.greedy)return c(!1,r),!0===a&&"function"===typeof r.focus&&r.focus(),{v:Promise.resolve(!1)};n.push({valid:!1,comp:r})}},o=0;o<p.length;o++){var l=u(o);if("object"===Object(r["a"])(l))return l.v}if(0===n.length)return c(!0),Promise.resolve(!0);var i=f;return Promise.all(n).then((function(e){if(i===f){var t=e.filter((function(e){return!0!==e.valid}));if(0===t.length)return c(!0),!0;var n=t[0],r=n.valid,u=n.comp;return c(!1,u),!0===a&&!0!==r&&"function"===typeof u.focus&&u.focus(),!1}}))}function v(){f++,p.forEach((function(e){"function"===typeof e.resetValidation&&e.resetValidation()}))}function m(t){void 0!==t&&Object(c["k"])(t),b().then((function(n){!0===n&&(void 0!==e.onSubmit?s("submit",t):void 0!==t&&void 0!==t.target&&"function"===typeof t.target.submit&&t.target.submit())}))}function j(t){void 0!==t&&Object(c["k"])(t),s("reset"),Object(a["v"])((function(){v(),!0===e.autofocus&&!0!==e.noResetFocus&&O()}))}function O(){Object(u["a"])((function(){if(null!==d.value){var e=d.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(d.value.querySelectorAll("[tabindex]"),(function(e){return e.tabIndex>-1}));null!==e&&void 0!==e&&e.focus()}}))}return Object(a["H"])(l["a"],{bindComponent:function(e){p.push(e)},unbindComponent:function(e){var t=p.indexOf(e);t>-1&&p.splice(t,1)}}),Object(a["D"])((function(){!0===e.autofocus&&O()})),Object.assign(i.proxy,{validate:b,resetValidation:v,submit:m,reset:j,focus:O,getValidationComponents:function(){return p}}),function(){return Object(a["q"])("form",{class:"q-form",ref:d,onSubmit:m,onReset:j},Object(o["d"])(n.default))}}})},"123b":function(e,t,n){"use strict";var r=n("7a23"),a={class:"custom-dialog"},c={class:"row full-width justify-between"},u={class:"text-h6 q-my-none"};function o(e,t,n,o,l,s){var i=Object(r["M"])("q-btn"),d=Object(r["M"])("q-card-section"),f=Object(r["M"])("q-card");return Object(r["G"])(),Object(r["i"])("div",a,[Object(r["W"])(Object(r["m"])(f,{class:"modal"},{default:Object(r["V"])((function(){return[Object(r["j"])("div",{style:Object(r["x"])("max-width: ".concat(e.width,"; width: 100%;")),class:"row items-center q-pb-none modal-content"},[Object(r["m"])(d,{class:"full-width"},{default:Object(r["V"])((function(){return[Object(r["j"])("div",c,[Object(r["j"])("div",u,Object(r["P"])(e.title),1),Object(r["m"])(i,{icon:"close",flat:"",round:"",dense:"",onClick:t[0]||(t[0]=function(t){return e.$emit("close")})})])]})),_:1})],4),Object(r["j"])("div",{style:Object(r["x"])("max-width: ".concat(e.width,"; width: 100%;")),class:"row items-center q-pb-none modal-content"},[Object(r["m"])(d,{class:"full-width"},{default:Object(r["V"])((function(){return[Object(r["L"])(e.$slots,"default")]})),_:3})],4)]})),_:3},512),[[r["T"],e.modelValue]])])}var l=Object(r["n"])({props:{title:{type:String},width:{type:String,default:function(){return"650px"}},modelValue:{type:Boolean}},emits:["close"]}),s=(n("e0a1"),n("f09f")),i=n("a370"),d=n("9c40"),f=n("93dc"),p=n.n(f);l.render=o;t["a"]=l;p()(l,"components",{QCard:s["a"],QCardSection:i["a"],QBtn:d["a"]})},3588:function(e,t,n){},"46f1":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("1da1"),a=n("d4ec"),c=n("bee2"),u=(n("99af"),n("96cf"),n("bb0b")),o=function(){function e(){Object(a["a"])(this,e)}return Object(c["a"])(e,null,[{key:"getProducts",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get(e.baseUrl);case 3:return n=t.sent,t.abrupt("return",n.results.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"newProducts",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].post("".concat(e.baseUrl),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"updateProduct",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].put("".concat(e.baseUrl,"/").concat(n._id),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()}]),e}();o.baseUrl="products"},"4b5d":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a={class:"q-pa-md"},c={class:"row"},u=Object(r["j"])("div",{class:"col-xs-6 text-left"},[Object(r["j"])("h5",{class:"q-my-sm"},"Product List")],-1),o={class:"col-xs-6 text-right"},l={class:"row"},s={class:"row"};function i(e,t,n,i,d,f){var p=Object(r["M"])("q-btn"),b=Object(r["M"])("Table"),v=Object(r["M"])("NewProductForm"),m=Object(r["M"])("modal");return Object(r["G"])(),Object(r["i"])("div",null,[Object(r["j"])("div",a,[Object(r["j"])("div",c,[u,Object(r["j"])("div",o,[Object(r["m"])(p,{onClick:e.newProductAction,label:"Add New Product",color:"primary"},null,8,["onClick"])])]),Object(r["j"])("div",l,[Object(r["m"])(b,{class:"full-width",isLoading:e.isLoading,data:e.data,tableDef:e.tableDef},{actions:Object(r["V"])((function(t){var n=t.props;return[Object(r["j"])("div",s,[Object(r["m"])(p,{class:"q-pa-none",flat:"",round:"",color:"primary",icon:"edit",onClick:function(t){return e.editProduct(n.row)}},null,8,["onClick"])])]})),_:1},8,["isLoading","data","tableDef"])])]),Object(r["m"])(m,{onClose:t[1]||(t[1]=function(t){return e.productModal=!e.productModal}),title:e.isEditing?"Update Product":"Add New Product",modelValue:e.productModal,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.productModal=t})},{default:Object(r["V"])((function(){return[Object(r["m"])(v,{ref:"productRef",isEditing:e.isEditing,modelValue:e.productModal,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.productModal=t}),onCloseModal:e.refreshList},null,8,["isEditing","modelValue","onCloseModal"])]})),_:1},8,["title","modelValue"])])}var d=n("1da1"),f=(n("96cf"),n("fa17")),p=n("46f1"),b=n("b5ff"),v=n("b028"),m=n("7255"),j=n("bcc3"),O=n("123b"),g=Object(r["n"])({components:{NewProductForm:f["a"],Modal:O["a"],Table:m["a"]},setup:function(){var e=Object(r["J"])(!1),t=Object(r["J"])(),n=Object(r["J"])(!1),a=Object(r["J"])(!0),c=Object(r["J"])([]),u=Object(r["J"])(new v["a"]),o=Object(r["J"])(new b["a"]([new j["a"]("sku","Sku"),new j["a"]("name","Name"),new j["a"]("brand","Brand"),new j["a"]("category","Category"),new j["a"]("price","Price"),new j["a"]("discount","Discount"),new j["a"]("quantity","Quantity"),new j["a"]("actions","Actions",!0)])),l=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a.value=!0,e.next=4,p["a"].getProducts();case 4:c.value=e.sent,u.value.results=c.value,a.value=!1,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),s=function(){n.value=!1,t.value.resetForm(),e.value=!0},i=function(r){n.value=!0,t.value.setToEdit(r),e.value=!0},f=function(e){console.log(e)},m=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("reset-list"),l(),e.value=!e.value;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r["D"])(Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{l()}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})))),{data:u,tableDef:o,products:c,isLoading:a,isEditing:n,productModal:e,productRef:t,refreshList:m,editProduct:i,deleteProduct:f,newProductAction:s}}}),h=n("9c40"),w=n("93dc"),y=n.n(w);g.render=i;t["default"]=g;y()(g,"components",{QBtn:h["a"]})},e0a1:function(e,t,n){"use strict";n("3588")},f372:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("1da1"),a=n("d4ec"),c=n("bee2"),u=(n("99af"),n("96cf"),n("bb0b")),o=function(){function e(){Object(a["a"])(this,e)}return Object(c["a"])(e,null,[{key:"getBrands",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get(e.baseUrl);case 3:return n=t.sent,t.abrupt("return",n.results.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"newBrand",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].post("".concat(e.baseUrl),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"updateBrand",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].put("".concat(e.baseUrl,"/").concat(n._id),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()}]),e}();o.baseUrl="brands"},f910:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("1da1"),a=n("d4ec"),c=n("bee2"),u=(n("99af"),n("96cf"),n("bb0b")),o=function(){function e(){Object(a["a"])(this,e)}return Object(c["a"])(e,null,[{key:"getCategories",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].get(e.baseUrl);case 3:return n=t.sent,t.abrupt("return",n.results.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(){return t.apply(this,arguments)}return n}()},{key:"newCategory",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].post("".concat(e.baseUrl),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"updateCategory",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].put("".concat(e.baseUrl,"/").concat(n._id),n);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function n(e){return t.apply(this,arguments)}return n}()}]),e}();o.baseUrl="categories"},fa17:function(e,t,n){"use strict";n("b0c0");var r=n("7a23"),a={class:"row"},c={class:"col-xs-12 col-sm-6 q-px-xs q-my-xs"},u={class:"col-xs-12 col-sm-6 q-px-xs q-my-xs"},o={class:"col-xs-12 col-sm-6 q-px-xs q-my-xs"},l={class:"col-xs-12 col-sm-6 q-px-xs q-my-xs"},s={class:"col-xs-12 col-sm-6 q-px-xs q-my-xs"},i={class:"col-xs-12 col-sm-6 q-px-xs q-my-xs"},d={class:"col-xs-12 col-sm-6 q-px-xs q-my-xs"},f={class:"col-xs-12 q-my-xs"};function p(e,t,n,p,b,v){var m=Object(r["M"])("q-input"),j=Object(r["M"])("q-select"),O=Object(r["M"])("q-btn"),g=Object(r["M"])("q-form");return Object(r["G"])(),Object(r["g"])(g,{onSubmit:e.onSubmit},{default:Object(r["V"])((function(){return[Object(r["j"])("div",a,[Object(r["j"])("div",c,[Object(r["m"])(m,{filled:"",modelValue:e.product.sku,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.product.sku=t}),label:"Sku","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},null,8,["modelValue","rules"])]),Object(r["j"])("div",u,[Object(r["m"])(m,{filled:"",modelValue:e.product.name,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.product.name=t}),label:"Product Name","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},null,8,["modelValue","rules"])]),Object(r["j"])("div",o,[Object(r["m"])(j,{filled:"",modelValue:e.product.brand,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.product.brand=t}),options:e.brands,label:"Brands","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please enter a valid value"}]},null,8,["modelValue","options","rules"])]),Object(r["j"])("div",l,[Object(r["m"])(j,{filled:"",modelValue:e.product.category,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.product.category=t}),options:e.categories,label:"Category","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please enter a valid value"}]},null,8,["modelValue","options","rules"])]),Object(r["j"])("div",s,[Object(r["m"])(m,{filled:"",modelValue:e.product.price,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.product.price=t}),type:"number",label:"Price","lazy-rules":"",rules:[function(e){return e>0||"Please enter a valid value"}]},null,8,["modelValue","rules"])]),Object(r["j"])("div",i,[Object(r["m"])(m,{filled:"",modelValue:e.product.discount,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.product.discount=t}),type:"number",label:"Discount","lazy-rules":"",rules:[function(e){return e>=0||"Please enter a valid value"}]},null,8,["modelValue","rules"])]),Object(r["j"])("div",d,[Object(r["m"])(m,{filled:"",modelValue:e.product.costPrice,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.product.costPrice=t}),type:"number",label:"Cost Price","lazy-rules":"",rules:[function(e){return e>0||"Please enter a valid value"}]},null,8,["modelValue","rules"])]),Object(r["j"])("div",f,[Object(r["m"])(O,{type:"submit",label:"Submit",color:"primary",class:"full-width"})])])]})),_:1},8,["onSubmit"])}var b=n("1da1"),v=(n("96cf"),n("d81d"),n("46f1")),m=n("f372"),j=n("f910"),O=Object(r["n"])({props:{isEditing:{type:Boolean,default:function(){return!1}}},emits:["close-modal"],setup:function(e,t){var n=Object(r["J"])([]),a=Object(r["J"])([]),c=Object(r["J"])({sku:"",name:"",brand:"",category:"",price:0,discount:0,quantity:0,costPrice:0}),u=function(){c.value._id="",c.value.sku="",c.value.name="",c.value.brand="",c.value.category="",c.value.price=0,c.value.discount=0,c.value.quantity=0,c.value.costPrice=0},o=function(e){c.value._id=e._id,c.value.sku=e.sku,c.value.name=e.name,c.value.brand=e.brand,c.value.category=e.category,c.value.price=e.price,c.value.discount=e.discount,c.value.quantity=e.quantity,c.value.costPrice=e.costPrice},l=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!c.value._id){e.next=6;break}return e.next=4,v["a"].updateProduct(c.value);case 4:e.next=8;break;case 6:return e.next=8,v["a"].newProducts(c.value);case 8:console.log(c.value),t.emit("close-modal"),u(),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(r["D"])(Object(b["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m["a"].getBrands();case 3:return t=e.sent,n.value=t.map((function(e){return e.name})),e.next=7,j["a"].getCategories();case 7:r=e.sent,a.value=r.map((function(e){return e.name})),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))),{setToEdit:o,onSubmit:l,resetForm:u,product:c,brands:n,categories:a}}}),g=n("0378"),h=n("27f9"),w=n("ddd8"),y=n("9c40"),x=n("93dc"),k=n.n(x);O.render=p;t["a"]=O;k()(O,"components",{QForm:g["a"],QInput:h["a"],QSelect:w["a"],QBtn:y["a"]})}}]);
//# sourceMappingURL=chunk-4daf4b57.ae3e693c.js.map